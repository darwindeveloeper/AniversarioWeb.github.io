<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Aniversario üíó</title>

  <style>
    :root{
      --bg:#070a14;
      --text:#eef2ff;
      --muted:#b7c2e5;
      --card: rgba(255,255,255,.10);
      --card2: rgba(255,255,255,.06);
      --border: rgba(255,255,255,.16);
      --accent:#ff4d8d;
      --accent2:#6ee7ff;
      --gold:#ffd37a;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
      color:var(--text);
      background:
        radial-gradient(900px 700px at 15% 15%, #203a9a 0%, transparent 58%),
        radial-gradient(900px 700px at 85% 30%, #7a1b4a 0%, transparent 58%),
        radial-gradient(700px 500px at 50% 100%, #1b6a7a 0%, transparent 55%),
        var(--bg);
      overflow-x:hidden;
    }

    /* ====== FONDO: corazones con fotos ====== */
    .bg-hearts{
      position: fixed;
      inset: 0;
      pointer-events: none;
      overflow: hidden;
      z-index: 0;
      opacity: 0.95;
    }
    .heart-float{
      position:absolute;
      /* ‚ö†Ô∏è SIN width/height fijo aqu√≠: lo controla el JS */
      filter: drop-shadow(0 20px 45px rgba(0,0,0,.45));
      opacity: .38; /* un poco m√°s visible */
      transform: translateY(120vh) scale(.9) rotate(0deg);
      animation: floatUp linear forwards;
      will-change: transform, opacity;
    }
    @keyframes floatUp{
      0%   { transform: translateY(120vh) scale(.85) rotate(0deg); opacity: 0; }
      10%  { opacity: .38; }
      80%  { opacity: .38; }
      100% { transform: translateY(-40vh) scale(1.05) rotate(16deg); opacity: 0; }
    }

    /* ‚úÖ CORAZ√ìN ESCALABLE (se adapta al tama√±o del wrapper) */
    .heart-shape{
      position: relative;
      width: 100%;
      height: 100%;
      transform: rotate(-45deg);
      background-size: cover;
      background-position: center;
      border: 1px solid rgba(255,255,255,.12);
      box-shadow: inset 0 0 0 2px rgba(255,77,141,.06);
      border-radius: 14px;
      overflow: hidden;
    }
    .heart-shape::before,
    .heart-shape::after{
      content:"";
      position:absolute;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      background: inherit; /* toma la MISMA foto del background del coraz√≥n */
    }
    .heart-shape::before{
      top: -50%;
      left: 0;
    }
    .heart-shape::after{
      left: 50%;
      top: 0;
    }

    /* ====== Layout ====== */
    .wrap{
      width:min(980px, 92vw);
      margin: 0 auto;
      padding: 20px 0 40px;
      position: relative;
      z-index: 2;
    }

    .topbar{
      position:sticky;
      top:0;
      z-index:10;
      padding:14px 0;
      backdrop-filter: blur(10px);
      background: linear-gradient(180deg, rgba(7,10,20,.78), rgba(7,10,20,.35));
      border-bottom: 1px solid rgba(255,255,255,.08);
    }
    .topbar-inner{
      width:min(980px, 92vw);
      margin:0 auto;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }
    .brand{
      display:flex; align-items:center; gap:10px;
    }
    .logo{
      width:40px;height:40px;border-radius:14px;
      display:grid;place-items:center;
      background: radial-gradient(circle at 30% 30%, rgba(110,231,255,.55), rgba(255,77,141,.65));
      border:1px solid rgba(255,255,255,.20);
      box-shadow: 0 14px 50px rgba(0,0,0,.35);
      font-size:18px;
      user-select:none;
    }
    .brand h1{margin:0;font-size:15px;letter-spacing:.2px}
    .brand p{margin:2px 0 0;font-size:12px;color:var(--muted)}

    .actions{display:flex; gap:10px; flex-wrap:wrap;}
    .btn{
      border:1px solid var(--border);
      background: rgba(0,0,0,.25);
      color:var(--text);
      padding:10px 12px;
      border-radius:14px;
      cursor:pointer;
      font-weight:800;
      transition: transform .12s ease, background .12s ease, border-color .12s ease, opacity .12s ease;
      user-select:none;
    }
    .btn:hover{transform: translateY(-1px); background: rgba(0,0,0,.32);}
    .btn.primary{
      border-color: rgba(255,77,141,.55);
      background: linear-gradient(135deg, rgba(255,77,141,.35), rgba(110,231,255,.18));
    }
    .btn:disabled{
      opacity:.45;
      cursor:not-allowed;
      transform:none;
    }

    .hero{
      margin-top:18px;
      border:1px solid var(--border);
      background: linear-gradient(180deg, var(--card), var(--card2));
      border-radius:22px;
      box-shadow: 0 25px 80px rgba(0,0,0,.40);
      padding:22px;
      overflow:hidden;
      position:relative;
    }
    .hero:before{
      content:"";
      position:absolute; inset:-40px;
      background: radial-gradient(circle at 20% 20%, rgba(255,77,141,.20), transparent 50%),
                  radial-gradient(circle at 70% 30%, rgba(110,231,255,.18), transparent 55%);
      filter: blur(10px);
      pointer-events:none;
    }
    .hero-inner{position:relative; z-index:1;}
    .big{
      margin:0;
      font-size: clamp(22px, 4vw, 34px);
      line-height:1.15;
      letter-spacing:.2px;
    }
    .small{
      margin:10px 0 0;
      color:var(--muted);
      font-size:14px;
      line-height:1.5;
      max-width: 70ch;
    }

    /* ====== Escenas ====== */
    .stage{
      margin-top:16px;
      display:grid;
      gap:14px;
    }
    .card{
      border:1px solid var(--border);
      background: rgba(0,0,0,.22);
      border-radius:18px;
      padding:18px;
      opacity:0;
      transform: translateY(12px);
      transition: opacity .55s ease, transform .55s ease;
      overflow:hidden;
      position: relative;
    }
    .card.show{
      opacity:1;
      transform: translateY(0);
    }
    .tag{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.14);
      color: var(--muted);
      font-size:12px;
      background: rgba(255,255,255,.06);
    }
    .scene{
      display:grid;
      grid-template-columns: 170px 1fr;
      gap:14px;
      margin-top:12px;
      align-items:center;
    }
    @media (max-width: 680px){
      .scene{ grid-template-columns: 1fr; }
    }
    .sceneMedia{
      width: 170px;
      height: 170px;
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      box-shadow: 0 18px 60px rgba(0,0,0,.35);
      overflow:hidden;
      position: relative;
      display:grid;
      place-items:center;
    }
    .sceneMedia img{
      width:100%;
      height:100%;
      object-fit: cover;
      transform: scale(1.03);
      opacity: .92;
    }
    .floaty{
      animation: floaty 3.2s ease-in-out infinite;
      will-change: transform;
    }
    @keyframes floaty{
      0%,100% { transform: translateY(0px) scale(1.02); }
      50%     { transform: translateY(-6px) scale(1.04); }
    }
    .text{
      margin:0;
      font-size:18px;
      line-height:1.55;
      white-space:pre-wrap;
    }

    .controls{
      margin-top:14px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
    }
    .meter{
      color:var(--muted);
      font-size:12px;
    }

    /* ====== Modal M√∫sica ====== */
    .modal{
      position:fixed;
      inset:0;
      display:none;
      place-items:center;
      background: rgba(0,0,0,.60);
      backdrop-filter: blur(6px);
      z-index:50;
      padding:18px;
    }
    .modal.open{display:grid;}
    .modal-card{
      width:min(760px, 96vw);
      border-radius:22px;
      border:1px solid rgba(255,255,255,.16);
      background: linear-gradient(180deg, rgba(20,24,45,.92), rgba(10,12,24,.90));
      box-shadow: 0 25px 90px rgba(0,0,0,.55);
      overflow:hidden;
    }
    .modal-head{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
      padding:14px 14px;
      border-bottom: 1px solid rgba(255,255,255,.08);
    }
    .modal-head h2{margin:0;font-size:14px;color:var(--text)}
    .x{
      padding:8px 10px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.25);
      color:var(--text);
      cursor:pointer;
      font-weight:900;
    }
    .modal-body{padding:14px}
    .hint{
      margin:0 0 10px;
      color:var(--muted);
      font-size:13px;
      line-height:1.45;
    }
    .embed{
      width:100%;
      aspect-ratio: 16/9;
      border:0;
      border-radius:16px;
      background:#000;
    }

    footer{
      margin-top:18px;
      text-align:center;
      color:rgba(183,194,229,.85);
      font-size:12px;
    }

    /* ====== Intro con anillo (mejorado) ====== */
    .intro{
      position: fixed;
      inset: 0;
      z-index: 100;
      display:grid;
      place-items:center;
      padding: 18px;
      background:
        radial-gradient(900px 650px at 50% 25%, rgba(255,77,141,.22), transparent 60%),
        radial-gradient(900px 650px at 55% 70%, rgba(110,231,255,.18), transparent 62%),
        rgba(0,0,0,.62);
      backdrop-filter: blur(12px);
      transition: opacity .45s ease, visibility .45s ease;
    }
    .intro.hide{ opacity:0; visibility:hidden; }

    .introCard{
      width:min(740px, 96vw);
      border-radius: 28px;
      border:1px solid rgba(255,255,255,.18);
      background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.05));
      box-shadow: 0 30px 120px rgba(0,0,0,.60);
      padding: 18px 18px 16px;
      text-align:center;
      position: relative;
      overflow:hidden;
    }
    .introCard:before{
      content:"";
      position:absolute; inset:-60px;
      background:
        radial-gradient(circle at 30% 30%, rgba(255,77,141,.20), transparent 55%),
        radial-gradient(circle at 70% 25%, rgba(110,231,255,.18), transparent 60%);
      filter: blur(12px);
      pointer-events:none;
    }
    .introTitle{
      position:relative;
      margin: 8px 0 6px;
      font-size: clamp(20px, 4vw, 30px);
      letter-spacing:.2px;
    }
    .introSub{
      position:relative;
      margin:0 0 12px;
      color: var(--muted);
      line-height:1.5;
      font-size: 14px;
    }

    .ringStage{
      position:relative;
      width: 320px;
      height: 290px;
      margin: 10px auto 6px;
      display:grid;
      place-items:center;
      perspective: 900px;
    }

    .boxWrap{
      width: 230px;
      height: 170px;
      position:relative;
      transform-style: preserve-3d;
      cursor:pointer;
      user-select:none;
    }

    .boxShadow{
      position:absolute;
      inset: 30px -5px -10px -5px;
      background: radial-gradient(circle at 50% 50%, rgba(0,0,0,.55), transparent 60%);
      filter: blur(8px);
      transform: translateZ(-80px);
    }

    .boxBase{
      position:absolute;
      inset: 45% 0 0 0;
      border-radius: 18px 18px 22px 22px;
      border: 1px solid rgba(255,255,255,.14);
      background: linear-gradient(180deg, rgba(0,0,0,.18), rgba(110,231,255,.14));
      box-shadow: 0 25px 80px rgba(0,0,0,.45);
      transform: rotateX(16deg) translateZ(0px);
    }

    .boxLid{
      position:absolute;
      inset: 0 0 47% 0;
      border-radius: 22px 22px 16px 16px;
      border: 1px solid rgba(255,255,255,.16);
      background:
        linear-gradient(180deg, rgba(255,77,141,.35), rgba(0,0,0,.18));
      transform-origin: bottom center;
      transform: rotateX(10deg) translateZ(10px);
      box-shadow: 0 20px 60px rgba(0,0,0,.35);
      transition: transform .9s cubic-bezier(.2,.9,.2,1.1);
    }

    .hintPill{
      position:absolute;
      left:50%;
      bottom:-46px;
      transform: translateX(-50%);
      font-size: 13px;
      color: var(--muted);
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.20);
      padding: 7px 12px;
      border-radius: 999px;
      white-space:nowrap;
    }

    /* Anillo + brillo */
    .ringWrap{
      position:absolute;
      top: 58px;
      width: 160px;
      height: 160px;
      opacity:0;
      transform: translateY(18px) scale(.85);
      transition: opacity .55s ease, transform .65s cubic-bezier(.2,1.2,.2,1);
      pointer-events:none;
      filter: drop-shadow(0 22px 60px rgba(0,0,0,.60));
    }

    .halo{
      position:absolute;
      inset: 18px;
      border-radius: 999px;
      background: radial-gradient(circle at 50% 50%, rgba(255,211,122,.25), transparent 60%);
      filter: blur(2px);
      opacity:.0;
      transform: scale(.9);
      transition: opacity .6s ease, transform .6s ease;
    }

    .spark{
      position:absolute;
      width: 10px; height: 10px;
      border-radius: 999px;
      background: radial-gradient(circle, rgba(255,255,255,.95), rgba(255,255,255,0));
      opacity:0;
      transform: translateY(10px) scale(.6);
    }
    .spark.s1{ left: 16px; top: 32px; }
    .spark.s2{ right: 24px; top: 52px; }
    .spark.s3{ left: 44px; bottom: 34px; }
    .spark.s4{ right: 50px; bottom: 22px; }

    .opened .boxLid{
      transform: rotateX(78deg) translateZ(20px);
    }
    .opened .ringWrap{
      opacity:1;
      transform: translateY(-14px) scale(1);
      animation: ringPulse 1.9s ease-in-out infinite;
    }
    .opened .halo{
      opacity:1;
      transform: scale(1.1);
      animation: haloPulse 1.9s ease-in-out infinite;
    }
    .opened .spark{
      animation: sparkle 1.6s ease-in-out infinite;
    }
    .opened .spark.s2{ animation-delay: .25s; }
    .opened .spark.s3{ animation-delay: .45s; }
    .opened .spark.s4{ animation-delay: .65s; }

    @keyframes ringPulse{
      0%,100%{ filter: drop-shadow(0 22px 60px rgba(0,0,0,.60)); }
      50%{ filter: drop-shadow(0 22px 90px rgba(255,211,122,.25)); }
    }
    @keyframes haloPulse{
      0%,100%{ opacity: .75; }
      50%{ opacity: 1; }
    }
    @keyframes sparkle{
      0%{ opacity:0; transform: translateY(10px) scale(.6); }
      40%{ opacity:1; transform: translateY(0px) scale(1.2); }
      100%{ opacity:0; transform: translateY(-10px) scale(.6); }
    }

    .ringSvg{
      width: 160px;
      height: 160px;
    }

    .enterRow{
      position:relative;
      margin-top: 10px;
      display:flex;
      justify-content:center;
      gap:10px;
      flex-wrap:wrap;
    }

    .lockedNote{
      position:relative;
      margin-top: 10px;
      font-size: 12px;
      color: rgba(183,194,229,.92);
      opacity:.95;
    }
  </style>
</head>

<audio id="bgMusic" preload="auto">
  <source src="https://raw.githubusercontent.com/darwindeveloeper/AniversarioWeb.github.io/main/serias_mi_esposa.mp3" type="audio/mpeg">
</audio>

<body>
  <!-- Fondo corazones -->
  <div class="bg-hearts" id="bgHearts"></div>

  <!-- Intro anillo -->
  <div class="intro" id="intro" aria-hidden="false">
    <div class="introCard">
      <div class="logo" style="margin:0 auto; position:relative;">üíç</div>
      <h2 class="introTitle">Tengo algo para ti‚Ä¶</h2>
      <p class="introSub">
        Mi amor toca la cajita para abrirla ‚ú® y luego podr√°s entrar, 
        <br> espero que te guste esta nueva experiencia mi vida.
      </p>

      <div class="ringStage">
        <div class="boxWrap" id="boxWrap" role="button" aria-label="Abrir la cajita">
          <div class="boxShadow"></div>
          <div class="boxLid"></div>
          <div class="boxBase"></div>
          <div class="hintPill" id="hintPill">T√≥came üíó</div>

          <div class="ringWrap" id="ringWrap">
            <div class="halo"></div>
            <div class="spark s1"></div><div class="spark s2"></div>
            <div class="spark s3"></div><div class="spark s4"></div>

            <!-- Anillo SVG -->
            <svg class="ringSvg" viewBox="0 0 200 200" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M100 18 L124 54 L100 90 L76 54 Z"
                    fill="rgba(110,231,255,.75)"
                    stroke="rgba(255,255,255,.78)" stroke-width="3"/>
              <path d="M100 18 L112 54 L100 90 L88 54 Z"
                    fill="rgba(255,255,255,.22)"/>
              <circle cx="100" cy="18" r="7" fill="rgba(255,255,255,.85)"/>

              <circle cx="100" cy="122" r="44" stroke="rgba(255,211,122,.88)" stroke-width="10"/>
              <circle cx="100" cy="122" r="34" stroke="rgba(255,255,255,.55)" stroke-width="4"/>
              <path d="M60 122 C60 160 140 160 140 122"
                    stroke="rgba(0,0,0,.18)" stroke-width="10" stroke-linecap="round" opacity=".25"/>
            </svg>
          </div>
        </div>
      </div>

      <div class="enterRow">
        <button class="btn primary" id="btnEnter" disabled>Entrar ‚ûú</button>
      </div>
      <div class="lockedNote" id="lockedNote">
        (Primero debes abrir la cajita para desbloquear ‚ÄúEntrar‚Äù.)
      </div>
    </div>
  </div>

  <!-- Barra superior -->
  <div class="topbar">
    <div class="topbar-inner">
      <div class="brand">
        <div class="logo">üíó</div>
        <div>
          <h1>Un mes contigo</h1>
          <p>De Darwin para Iasabella ‚ú®</p>
        </div>
      </div>

      <div class="actions">
        
        <button class="btn" id="btnAuto" disabled>‚èØÔ∏è Auto</button>
        <button class="btn primary" id="btnNext" disabled>Siguiente ‚ûú</button>
      </div>
    </div>
  </div>

  <div class="wrap">
    <section class="hero">
      <div class="hero-inner">
        <h2 class="big">Mi amor‚Ä¶ hoy cumplimos un mes üíò</h2>
        <p class="small">
          Mi amor hermosa, sabes nos conocimos hace un mes nada mas, pero para m√≠ ha sido un tiempo 
          maravillo a tu lado, un tiempo de aprendizaje, un tiempo en donde han salido a flote
          mis mas escondidos sentimientos, te amo demaciado mi amor, se que no es mucho pero te hize este detalle 
          para que lo leas con calma y sepas lo mucho que te amo.
        </p>
      </div>
    </section>

    <section class="stage" id="stage"></section>

    <div class="controls">
      <div class="meter" id="meter">0/0</div>
      <div class="actions">
        <button class="btn" id="btnRestart">Reiniciar (volver al anillo)</button>
      </div>
    </div>

    <footer>Tip: desde el celular se siente a√∫n m√°s bonito en pantalla completa.</footer>
  </div>

  <!-- Modal M√∫sica -->
  <div class="modal" id="musicModal" aria-hidden="true">
    <div class="modal-card">
      <div class="modal-head">
        <h2>üéµ ‚ÄúSer√≠as mi esposa‚Äù ‚Äî Jay Kalyl</h2>
        <button class="x" id="btnClose">‚úï</button>
      </div>
      <div class="modal-body">
        <p class="hint">
          Si el embed falla (Error 153), cambia el video o usa el bot√≥n ‚ÄúAbrir en YouTube‚Äù.
        </p>

        <iframe
          class="embed"
          id="yt"
          src="https://www.youtube.com/embed/VIDEO_ID?rel=0"
          title="YouTube player"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
          allowfullscreen>
        </iframe>

        <div style="margin-top:10px;display:flex;gap:10px;flex-wrap:wrap;">
          <a class="btn primary" href="https://www.youtube.com/watch?v=VIDEO_ID" target="_blank" rel="noopener">
            Abrir en YouTube
          </a>
        </div>
      </div>
    </div>
  </div>

  <script>
    // =========================================================
    // 1) FOTOS PARA CORAZONES DE FONDO
    // =========================================================
    const PHOTO_URLS = [
      // ‚úÖ Cambia/a√±ade m√°s URLs RAW aqu√≠
      "https://raw.githubusercontent.com/darwindeveloeper/AniversarioWeb.github.io/main/images/foto1.png",
      "https://raw.githubusercontent.com/darwindeveloeper/AniversarioWeb.github.io/main/images/foto2.jpg",
      "https://raw.githubusercontent.com/darwindeveloeper/AniversarioWeb.github.io/main/images/foto3.jpeg",
      "https://raw.githubusercontent.com/darwindeveloeper/AniversarioWeb.github.io/main/images/foto4.jpg",
      "https://raw.githubusercontent.com/darwindeveloeper/AniversarioWeb.github.io/main/images/foto5.jpg",
      "https://raw.githubusercontent.com/darwindeveloeper/AniversarioWeb.github.io/main/images/foto6.jpg",
      "https://raw.githubusercontent.com/darwindeveloeper/AniversarioWeb.github.io/main/images/foto7.jpg",
      "https://raw.githubusercontent.com/darwindeveloeper/AniversarioWeb.github.io/main/images/foto8.jpg",
      "https://raw.githubusercontent.com/darwindeveloeper/AniversarioWeb.github.io/main/images/foto9.jpg",
      "https://raw.githubusercontent.com/darwindeveloeper/AniversarioWeb.github.io/main/images/foto10.jpg",
      "https://raw.githubusercontent.com/darwindeveloeper/AniversarioWeb.github.io/main/images/foto11.jpg",
      "https://raw.githubusercontent.com/darwindeveloeper/AniversarioWeb.github.io/main/images/foto12.jpg"
    ];

    function randomFallbackGradient(){
      const a = Math.random() < .5 ? "rgba(255,77,141,.55)" : "rgba(110,231,255,.50)";
      const b = "rgba(255,255,255,.08)";
      return `radial-gradient(circle at 30% 30%, ${a}, ${b})`;
    }

    function spawnHeart(){
      const bg = document.getElementById("bgHearts");
      const wrapper = document.createElement("div");
      wrapper.className = "heart-float";

      // ‚úÖ Tama√±o grande real (esto ahora s√≠ se ve grande)
      const size = 180 + Math.random() * 200; // 180‚Äì380px aprox
      wrapper.style.width = size + "px";
      wrapper.style.height = size + "px";

      wrapper.style.left = (Math.random()*100) + "vw";
      wrapper.style.animationDuration = (12 + Math.random()*10) + "s";
      wrapper.style.animationDelay = (Math.random()*2) + "s";

      const inner = document.createElement("div");
      inner.className = "heart-shape";

      if(PHOTO_URLS.length > 0){
        const url = PHOTO_URLS[Math.floor(Math.random()*PHOTO_URLS.length)];
        inner.style.backgroundImage = `url("${url}")`;
      } else {
        inner.style.backgroundImage = randomFallbackGradient();
      }

      wrapper.appendChild(inner);
      bg.appendChild(wrapper);
      setTimeout(()=> wrapper.remove(), 26000);
    }

    for(let i=0;i<10;i++) setTimeout(spawnHeart, i*450);
    setInterval(spawnHeart, 900);

    // =========================================================
    // 2) ESCENAS
    // =========================================================
    const SCENES = [
      {
        tag:"üåô 1/6",
        text: `Mia amor sabes desde el primero d√≠a en que nos vimos despu√©s mucho tiempo, mi coraz√≥n
sabia que algo grande iba a suceder, en el fondo ten√≠a tanta iluci√≥n pero a la v√©z tanto miedo,
tanto as√≠ que no sab√≠a incluso si irme corriendo o quedarme con tigo, porque la verdad yo 
nunca te olvid√© solamente que me fu√≠ porque pense que tu ya eras ajena y que nunca m√°s te
volver√≠a a ver, pero Dios y el destino son tan grandes que ya tenian sus propios planes para
nosotros, y lograron lo inimaginable que fue volvernos a juntar.

La verdad esa fue una sorpresa para mi, pues cre√≠a que no era merecedor de una mujer
tan hermosa, y completa como tu, porque mi pasado me ha perseguido por mucho tiempo, pero
cuando te vi mire en tus ojos la gloria de Dios hecha relaidad, observe la respuesta
a mis oraciones, pero era tan dif√≠cil de creer que alguien como tu pudiera fijarse en
alguien como yo, porque exist√≠a muchas diferencias entre los dos, el aspecto social,
econ√≥mico, cultural, las creencias, en fin muchas, por las cuales no sab√≠a si estaba
haciendo lo correcto al acercarme a ti, pero la verdad es que decid√≠ arriesgarme porque
sent√≠a que tu eras la mujer que Dios hab√≠a puesto en mi camino para cambiar mi vida, para
mostrarme que el amor verdadero si existe, y que todo en la vida es material,
lo √∫nico real es el amor.

As√≠ que junte fuerzas de donde no ten√≠a y decidi propornerte que seas mi novia, aunque
por dentro estaba temblando, senti tanto calor en pleno invierno, que no sab√≠a si era nervios
o amor, pero al final todo sali√≥ bien y aceptaste ser mi novia, y desde ese d√≠a mi vida cambi√≥
por completo, porque ahora ten√≠a un motivo para vivir, un motivo para luchar, un motivo para
seguir adelante, y ese motivo eres tu mi amor.üíó`,
          img:"https://raw.githubusercontent.com/darwindeveloeper/AniversarioWeb.github.io/main/images/foto2.jpg"
      },
      { tag:"üíó 2/6", 
      text: `Ahora instantes despues de haber estado juntos como novios oficialmente, sabes 
todo empez√≥ a tener sentido de repente, tu compa√±ia se convirti√≥ en mi refugio, me sent√≠a a
salvo contigo, como si nada pudiera lastimarme, sabes eso fue como juntar el fuego con
gasolina, porque al instante hubo una explici√≥n de sentimientos y emociones que antes 
nunca las hab√≠a experimentado, sent√≠ que micoraz√≥n latia como si hubiese corrido una mart√≥n
completa, sent√≠ que mi alma se elevaba al cielo.

No se si tu tubiste la misma sensaci√≥n, pero ese fue mi caso y desde ese momento brotaron
de nuestros rostros las sonrrisas, empez√≥ a crearse un lazo de confianza entre los dos que 
nos unia cada vez m√°s, y que con el paso del tiempo tu presencia en mi vida se volv√≠a cada
vez mas indispensable, mas necesaria, quer√≠a mostrarle al mundo la joya que hab√≠a encontrado,
quer√≠a salir y gritar al cielo cuanto te amo, y desde ese d√≠a mi mentalidad cambi√≥ por completo,
empez√© a alejarme de todo lo que me hac√≠a da√±o, porque solo tu me importas, y solo con tigo
quiero estar, quiero que al pasar los meses, los a√±os y las d√©cadas nustro amor siga floreciendo
como lo ha hecho hasta ahora, y que seamos enternos mi amor.üíó`,
          img:"https://raw.githubusercontent.com/darwindeveloeper/AniversarioWeb.github.io/main/images/foto4.jpg"
      },
      { tag:"‚ú® 3/6", 
      text: `Mi reyna hemrosa, buneo en esta etapa la verdad es que aunque no pasamos mucho tiempo
juntos, pero cada instante a tu lado fu√© sinceramente m√°gico, no quer√≠a salir nunca de tu
lado, quer√≠a que el tiempo sea infinito cuando estabamos juntos mi vida, porque cada 
momento con tigo lo sent√≠a como un nuevo comienzo, cada instante se convert√≠a automaticamente en
una oprtunidad para ser feliz, tu presencia es todo lo que esta bien en este mundo.

De repente empezamos a compartir nuestras cosas tal v√©z mas intimas, nuestros
secretos m√°s prrofundos nuestras metas, sue√±os, empezamos a so√±ar juntos,
planear nuestra vida juntos, empezamos a so√±ar con una familia juntos, empezamos a
compartir fotos, videos de nuestros momentos no solo especiales, sino en general, 
cada vez que sentimos la necesidad y tengamos la confianza de compartir con el otro,
ense√±ando nuestras rutinas, gustos, aficones, etc, solo para sentirnos cerca, 
y en mi particular eso llena mi vida de felicidad, amor y esperanza de so√±ar
con un hogar, un futuro esperandon√≥s.

Sabes tanta fue nuestra conexi√≥n que aunque sonaba apresurado, pero decid√≠ darte a conocer 
a los seres mas importantes en mi vida, como lo son mis padres, mi familia, y aunque
lamentablemente no pudiste conocer mi entorno por completo pero conociste un aparte 
fundaemntal en mi vida, esto lo hize porque quer√≠a probarte no solo lo encerio que estoy
tomando todo, sino que me brindaste la confianza y seguridad necesaria para hacerlo, y 
son momentos que me acompa√±an ddiariamente, y me llenan de felicidad.üíó`,
          img:"https://raw.githubusercontent.com/darwindeveloeper/AniversarioWeb.github.io/main/images/foto11.jpg"
      },
      { tag:"ü´∂ 4/6", 
      text: `Sabes mi amor hermosa es verdad que este proceso no es nada f√°cil pues yo quisiera
estar siempre a tu lado, besarte, abrazarte, cuidarte, protegerte y mimarte a diario,
pero se que esta prueba es bastante complicada, pero la verdad como alguna vez te lo dije,
cuando Dios quiere unir a dos persnonas, lo priero que va a hacer es separarlos, y no 
con ruptura sino con distancia, para que los dos aprendamos a amar y apreciar el
alma y la escencia de la otra persona, no solo amar su presencia f√≠sica sino amar su ser
interior, y por eso estoy completamente seguro que si logramos superar esta prueba, nuestro
amor no tendr√° l√≠mites, podra superar cualquier prueba que se le presente mi amor,
te amo y quiero siempre hacerte sentir mi cari√±o y amor incindicional en cualquier momento 
mi cielo.

Yo se que no hay una cura inmediata para subsanar la falta de una persona especial en tu vida,
lo √∫nico que quiero es que te mantengas a mi lado as√≠ como yo lo har√© siemrpe, porque de verdad
quiero alcanzar la plenitud de la felicidad en todo su esplendor a tu lado.

Yo se que este es un terreno desconocido, que muchas veces puede tornarse obsucro,
y no logramos ver la salida, pero en este proceso en cuando m√°s necesitamos de Dios, 
porque el es el √∫nico que puede brindarnos la fuerza necesaria para poder salir 
victoriosos de esta prueba, √©l y solo √©l es quien pue llenar nuestros corazones de paz, amor
y esperanza en estos tiempos dif√≠ciles, y el nos manda a cuidar el uno del otro, a estar
siempre presente, no de manera f√°cil, el primero lo hace dif√≠cil para ver si el amor es verdadero,
porque el amor verdaero todo lo puede, todo soporta, todo lo espera, y nunca falla mi amor.üíó`,
          img:"https://raw.githubusercontent.com/darwindeveloeper/AniversarioWeb.github.io/main/images/foto10.jpg"
      },
      { tag:"üåπ 5/6", 
      text: `Ahora sabes, desp√∫es de todo esto, quiero proponerte que empecemos a crecer juntos, 
como pareja, que estemos juntos en cualquier situaci√≥n por dif√≠cil que sea mi amor, quiero que
empecemos a trabajar por nuestros sue√±os, sabes yo en alguna ocaci√≥n te dije que cada 
oraci√≥n debe ir acompa√±ada por acto de fe, yo oro todos los d√≠as sin falta por un futuro
con tigo pero quiero trabajar d√≠a a d√≠a para que pronto eso sea una realidad, quiero darte
el lugar que tu te mereces, quiero que te sientas especial, quiero que seas mi consentida,
la ni√±a de mis ojos, mi lugar seguro.

Quiero que los dos seamos un apoyo el uno hacia el otro, no quiero que seamos de esas 
parejas que drenan las energ√≠as y el entusiasmo del otro, quiero que los dos seamos diferentes
pero para eso debemos pensar y actuar diefrente, se que aveces el temor por lo desconocido 
nos lleva a querer tirar la toala y tirar de lado lo que habiamos construido, quiero que nos
aferremos los dos a Dios, que el sea el que tome el estandarte de esta relaci√≥n, que nos guie 
por la direcci√≥n correcta, y que ese camino nos una cada vez m√°s mi amor, quiero que cada 
noche o al iniciar el d√≠a coloquemos la vida y el coraz√≥n de la otra persona en manos de Dios,
porque una relaic√≥n se cuida y se trabaja a diario, y lo que que tu cuidas dura.

Por eso amor de mi vida, quiero que sepas que todo lo conserniente a nuestra relaci√≥n lo 
puse desde el inicio en manos de mi padre, yo solo estoy dejando salir de m√≠ esos actos de 
amor que nunca antes hab√≠a realizado, porque el "que dir√°n" o el "ego" eras m√°s fuertes que
mis sentimientos, pero con tigo todo eso eso ya es borrado, porque quiero que no te haga 
falta amor, que puedas decir mi novio me ama, que puedas olvidar todos mis errores y 
deshaciertos de tu mente, que puedas sentir mi amor incluso en tus d√≠as mas grises, 
que pueda robarte una sonrisa, porque amor te amo y quiero que nunca lo olvides ni 
mucho menos lo dudes.üíó`,
          img:"https://raw.githubusercontent.com/darwindeveloeper/AniversarioWeb.github.io/main/images/foto1.png"
      },
      { tag:"üíç 6/6", 
            text: `Amor ahora ya para despedirme, se que ya he hablado muccho, pero bueno
solo queiro asegurarme de que cuando termines de leer esto, sepas que yo tengo mis ojos puestos
en el presente que estoy viviendo con tigo, tratando de hacer especial cada momento mi amor,
aunque sea a la distancia mi amor, y sabes porque.

Porque todas las noches sue√±o con tigo, sue√±o con nuestro hogar, con una familia, me sue√±o
viajando a tu lado, en fin sue√±o tantas cosas, yo se que debemos ir paso a paso y que
todo esto es un proceso que debemos pasar juntos, pero eso no es impedimento para so√±ar,
sabes yo te amo y nunca voy a salir de tu vida, a menos que tu as√≠ lo quieras, tu eres 
la mujer que Dios envi√≥ para mi de eso estoy mas que seguro.

Y aunque aun es prematuro, pero te quiero hacer una promesa mi cielo, la promnesa de llevarte
al altar si tu me lo permites, la promesa de ser el guardi√°n de tu coraz√≥n de por vida,
la promesa de ser tu escudo y apoyo en tiempos dif√≠ciles, la promesa de estar a tu lado 
siempre, la promesa de demostrarte mi amor en cada momento, porque quiero lo mejor para ti
mi amor, quiero verte brillar como la joya preciosa que eres.

Te amo mi amor, y con esto he concluido espero que todo haya sido de tu gusto, solo
quiero que sepas que mi amor por ti es mas grande que los oce√°nos que hoy nos 
separan, te amo mi cielo.

Feliz primer mes juntos mi amor...  mi reynaüíó`,
          img:"https://raw.githubusercontent.com/darwindeveloeper/AniversarioWeb.github.io/main/images/foto12.jpeg"
      },
    ];

    const stage = document.getElementById("stage");
    const meter = document.getElementById("meter");
    const btnNext = document.getElementById("btnNext");
    const btnRestart = document.getElementById("btnRestart");
    const btnAuto = document.getElementById("btnAuto");

    let index = 0;
    let auto = false;
    let timer = null;

    // =========================================================
    // 3) ESTADO GLOBAL
    // =========================================================
    let introUnlocked = false;
    let introDone = false;

    function setControlsEnabled(enabled){
      btnNext.disabled = !enabled;
      btnAuto.disabled = !enabled;
    }
    setControlsEnabled(false);

    function escapeHtml(str){
      return str
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#039;")
        .replaceAll("\n","<br/>");
    }

    function buildCards(){
      stage.innerHTML = "";
      SCENES.forEach((s) => {
        const card = document.createElement("div");
        card.className = "card";
        const imgBlock = s.img
          ? `<div class="sceneMedia"><img class="floaty" src="${s.img}" alt="escena"/></div>`
          : `<div class="sceneMedia"><div class="floaty" style="width:100%;height:100%;background:${randomFallbackGradient()};display:grid;place-items:center;color:rgba(255,255,255,.85);font-weight:900;">üíó</div></div>`;

        card.innerHTML = `
          <span class="tag">${s.tag}</span>
          <div class="scene">
            ${imgBlock}
            <p class="text">${escapeHtml(s.text)}</p>
          </div>
        `;
        stage.appendChild(card);
      });
      meter.textContent = `0/${SCENES.length}`;
    }

    function showNext(){
      if(!introDone) return;
      const cards = [...document.querySelectorAll(".card")];
      if(index < cards.length){
        cards[index].classList.add("show");
        index++;
        meter.textContent = `${index}/${SCENES.length}`;
        cards[index-1].scrollIntoView({ behavior: "smooth", block: "center" });
      } else {
        stopAuto();
      }
    }

    function restartScenesOnly(){
      stopAuto();
      index = 0;
      const cards = [...document.querySelectorAll(".card")];
      cards.forEach(c => c.classList.remove("show"));
      meter.textContent = `0/${SCENES.length}`;
      window.scrollTo({ top: 0, behavior: "smooth" });
    }

    function startAuto(){
      if(!introDone) return;
      auto = true;
      btnAuto.textContent = "‚è∏Ô∏è Auto";
      showNext();
      timer = setInterval(() => {
        if(index >= SCENES.length) return stopAuto();
        showNext();
      }, 2700);
    }

    function stopAuto(){
      auto = false;
      btnAuto.textContent = "‚èØÔ∏è Auto";
      if(timer){ clearInterval(timer); timer = null; }
    }

    btnNext.addEventListener("click", showNext);
    btnRestart.addEventListener("click", () => hardResetToIntro());
    btnAuto.addEventListener("click", () => auto ? stopAuto() : startAuto());

    buildCards();

    // =========================================================
    // 4) INTRO ANILLO
    // =========================================================
    const intro = document.getElementById("intro");
    const boxWrap = document.getElementById("boxWrap");
    const btnEnter = document.getElementById("btnEnter");
    const hintPill = document.getElementById("hintPill");
    const lockedNote = document.getElementById("lockedNote");

    function openBox(){
      if(introUnlocked) return;
      introUnlocked = true;
      boxWrap.classList.add("opened");
      btnEnter.disabled = false;
      hintPill.textContent = "¬øTe quieres casar con migo? üíç";
      lockedNote.textContent = "Ahora s√≠‚Ä¶ entra ‚ú®";

       // üîä REPRODUCIR M√öSICA AUTOM√ÅTICAMENTE
      const music = document.getElementById("bgMusic");
      if (music) {
        music.volume = 0.85;
        music.play().catch(()=>{});
      }
    }

    boxWrap.addEventListener("click", openBox);

    btnEnter.addEventListener("click", () => {
      if(!introUnlocked) return;

      introDone = true;
      intro.classList.add("hide");
      intro.setAttribute("aria-hidden", "true");

      setControlsEnabled(true);

      restartScenesOnly();
      setTimeout(()=> showNext(), 350);
    });

    // =========================================================
    // 5) HARD RESET
    // =========================================================
    function hardResetToIntro(){
      restartScenesOnly();

      introUnlocked = false;
      introDone = false;

      setControlsEnabled(false);

      boxWrap.classList.remove("opened");
      btnEnter.disabled = true;
      hintPill.textContent = "T√≥came üíó";
      lockedNote.textContent = "(Primero debes abrir la cajita para desbloquear ‚ÄúEntrar‚Äù.)";

      intro.classList.remove("hide");
      intro.setAttribute("aria-hidden", "false");

      window.scrollTo({ top: 0, behavior: "smooth" });
    }

    // =========================================================
    // 6) MODAL M√öSICA
    // =========================================================
    const modal = document.getElementById("musicModal");
    const btnMusic = document.getElementById("btnMusic");
    const btnClose = document.getElementById("btnClose");

    btnMusic.addEventListener("click", () => {
      modal.classList.add("open");
      modal.setAttribute("aria-hidden", "false");
    });
    btnClose.addEventListener("click", () => {
      modal.classList.remove("open");
      modal.setAttribute("aria-hidden", "true");
    });
    modal.addEventListener("click", (e) => {
      if(e.target === modal){
        modal.classList.remove("open");
        modal.setAttribute("aria-hidden", "true");
      }
    });

    // Al cargar, aseguramos modo intro
    hardResetToIntro();
  </script>
</body>
</html>

